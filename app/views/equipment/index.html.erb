<% content_for :title, "Equipamentos" %>

<div class="w-full">
  <% if notice.present? %>
    <div class="mb-5 p-4 text-green-700 bg-green-100 rounded-lg border border-green-200" role="alert">
      <%= notice %>
    </div>
  <% end %>

  <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
    <div>
      <h1 class="font-bold text-3xl text-[#1351b4]">Equipamentos</h1>
      <p class="text-gray-600">Gerencie o inventário de ativos de TI</p>
    </div>
    <%= link_to new_equipment_path, class: "flex items-center gap-2 px-4 py-2 bg-[#1351b4] text-white rounded-full font-bold hover:bg-blue-800 transition-colors shadow-sm" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
      Novo Equipamento
    <% end %>
  </div>

  <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Tipo</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Marca/Modelo</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Série</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Responsável</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Aquisição</th>
            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Status</th>
            <th scope="col" class="relative px-6 py-3"><span class="sr-only">Ações</span></th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% if @equipment.any? %>
            <% @equipment.each do |equipment| %>
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= equipment.notebook? ? 'bg-blue-100 text-blue-800' : 'bg-purple-100 text-purple-800' %>">
                    <%= equipment.kind == 'printer' ? 'Impressora' : equipment.kind.capitalize %>
                  </span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="text-sm font-medium text-gray-900"><%= equipment.brand %></div>
                  <div class="text-sm text-gray-500"><%= equipment.model %></div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  <%= equipment.serial_number %>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  <%= equipment.responsible %>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  <%= equipment.acquisition_date&.strftime("%d/%m/%Y") %>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                  <%= equipment.status %>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <div class="flex items-center justify-end gap-3">
                    <%= link_to "Ver", equipment, class: "text-[#1351b4] hover:text-blue-900 font-bold" %>
                    <%= link_to "Editar", edit_equipment_path(equipment), class: "text-gray-600 hover:text-gray-900" %>
                    <%= button_to "Excluir", equipment, method: :delete, class: "text-red-600 hover:text-red-900 cursor-pointer bg-transparent border-none p-0", data: { turbo_confirm: "Tem certeza?" } %>
                  </div>
                </td>
              </tr>
            <% end %>
          <% else %>
            <tr>
              <td colspan="6" class="px-6 py-10 text-center text-gray-500">
                Nenhum equipamento cadastrado.
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
